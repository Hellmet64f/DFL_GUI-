<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ferramenta de Geração de Código</title>
    <style>
        :root { --editor-bg: #282c34; --text-color: #abb2bf; --header-bg: #21252b; --accent-color: #61afef; --status-color: #98c379; }
        html, body { height: 100%; margin: 0; }
        body { font-family: "SF Mono", "Consolas", "Monaco", monospace; background-color: var(--header-bg); color: var(--text-color); display: flex; flex-direction: column; }
        .header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; border-bottom: 2px solid var(--accent-color); flex-shrink: 0; }
        h1 { margin: 0; font-size: 1.2em; }
        #copy-button { background: var(--status-color); color: #21252b; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-weight: bold; }
        textarea { flex-grow: 1; background-color: var(--editor-bg); color: var(--text-color); border: none; font-size: 16px; padding: 15px; resize: none; box-sizing: border-box; outline: none; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Gerador de Código para o Site Principal</h1>
        <button id="copy-button">Copiar Código para Publicar</button>
    </div>
    <textarea id="code-editor" spellcheck="false"></textarea>

    <script>
        const storageKey = 'offline_site_generator';
        const codeEditor = document.getElementById('code-editor');
        const copyButton = document.getElementById('copy-button');

        const defaultCode = `<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Site</title>
    <style>
        body { font-family: sans-serif; text-align: center; padding-top: 50px; }
    </style>
</head>
<body>
    <h1>Site Inicial</h1>
    <p>Use o painel para gerar um novo código para esta página.</p>

    <script>
        console.log("Versão 1.0 do site carregada.");
    <\/script>
</body>
</html>`;

        // Carrega o trabalho salvo do localStorage
        document.addEventListener('DOMContentLoaded', () => {
            const savedCode = localStorage.getItem(storageKey);
            codeEditor.value = savedCode || defaultCode;
        });

        // Salva o progresso automaticamente no diário pessoal (localStorage)
        codeEditor.addEventListener('input', () => {
            localStorage.setItem(storageKey, codeEditor.value);
        });

        // Botão para copiar o código final
        copyButton.addEventListener('click', () => {
            codeEditor.select();
            document.execCommand('copy');
            copyButton.textContent = 'Copiado!';
            setTimeout(() => { copyButton.textContent = 'Copiar Código para Publicar'; }, 2000);
        });
    </script>
</body>
</html>
